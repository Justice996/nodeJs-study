<!DOCTYPE html>
<html lang="ch">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>注册登录页</title>
</head>
<body>
        用户:<input type="text " name="user" id="user"><br/>
        密码:<input type="password " name="pwd" id="pwd"><br/>
        <!-- <textarea name="content" id="" cols="30" rows="10"></textarea><br/> -->
        <input type="button" value="注册" id="reg_btn">  
        <input type="button" value="登录" id="login_btn">  
        <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.js"></script>
        <script>
        $(function() {
            
            $("#login_btn").click(()=>{
                // alert("000");
                 $.ajax({
                      url:"/user",
                      data:{act:'login',user: $("#user").val(),pwd: $("#pwd").val()},
                      type:'get',
                      success:(str)=>{
                             var json= eval('('+str+')');
                             if (json.ok) {
                                 alert("登录成功");
                             } else {
                                alert("登录失败"+json.msg);
                             }
                      },
                      error:()=>{
                          alert('通信错误');
                      }
                 });
             });

             $("#reg_btn").click(()=>{
                // alert("000");
                 $.ajax({
                      url:"/user",
                      data:{act:'reg',user: $("#user").val(),pwd: $("#pwd").val()},
                      type:'get',
                      success:(str)=>{
                             var json= eval('('+str+')');
                             if (json.ok) {
                                 alert("注册成功");
                             } else {
                                alert("注册失败"+json.msg);
                             }
                      },
                      error:()=>{
                          alert('通信错误');
                      }
                 });
             });
        });
        </script>
</body>
</html>